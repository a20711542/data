---
title: 操作系统——进程管理
tags: 计算机,操作系统,进程管理
category: /操作系统/学习笔记/2023-06
grammar_abbr: true
grammar_table: true
grammar_defList: true
grammar_emoji: true
grammar_footnote: true
grammar_ins: true
grammar_mark: true
grammar_sub: true
grammar_sup: true
grammar_checkbox: true
grammar_mathjax: true
grammar_flow: true
grammar_sequence: true
grammar_code: true
grammar_highlight: true
grammar_html: true
grammar_linkify: true
grammar_typographer: true
grammar_video: true
grammar_audio: true
grammar_attachment: true
grammar_mermaid: true
grammar_classy: true
grammar_decorate: false
grammar_attrs: false
grammar_cjkEmphasis: true
grammar_cjkRuby: true
grammar_center: true
grammar_align: true
grammar_tableExtra: true
---


[toc!?depth=4]


----------

# 进程
## 概念
程序:是==静态的 #EE3F4D==，就是个存放在磁盘里的可执行文件，就是一系列的指令集合。
进程(Process) :是==动态的 #EE3F4D==，是程序的一次执行过程。同一个程序多次执行会对应多个进程
当进程被创建时，操作系统会为该进程分配一个==唯一的、不重复 #EE3F4D==的“身份证==PID #EE3F4D== (Process ID，进程ID)
## 组成
### PCB
这些信息都被保存在一个数据结构==PCB #EE3F4D== (Process Control Block)中，即进程控制块
操作系统需要对各个并发运行的进程进行管理，==但凡管理时所需要的信息，都会被放在PCB中 #EE3F4D==
PCB是进程存在的唯一标志，当进程被创建时，操作系统为其创建PCB，当进程结束时，会回收其PCB。
#### 进程描述信息
##### 进程标识符PID
##### 用户标识符UID
#### 进程控制和管理信息
##### CPU、磁盘、网络流量使用情况统计...
##### 进程当前状态:就绪态/阻塞态/运行态...
#### 资源分配清单
##### 正在使用哪些文件
##### 正在使用哪些内存区域
##### 正在使用哪些I/O设备
#### 处理机相关信息
##### 如PSW、PC等等各种寄存器的值(用 于实现进程切换)
### 程序段
PCB是给==操作系统 #EE3F4D==用的。
程序段、数据段是给==进程自己 #EE3F4D==用的。
一个==进程实体(进程映像) #EE3F4D==由==PCB、程序段、数据段 #EE3F4D==组成。
==进程 #EE3F4D==是==动态 #EE3F4D==的，==进程实体(进程映像) #EE3F4D==是==静态 #EE3F4D==的。
进程是进程实体的==运行过程 #12AA9C==，是系统进行资源分配和调度的一个独立单位。
#### 程序的代码(指令序列)
### 数据段
#### 运行过程中产生的各种数据(如:程序中定义的变量)
## 特征
### 动态性
进程是程序的一次执行过程，是动态地产生、变化和消亡的
### 并发性
内存中有多个进程实体，各进程可并发执行
### 独立性
进程是能独立运行、独立获得资源、独立接受调度的基本单位
### 异步性
各进程按各自独立的、不可预知的速度向前推进,操作系统要提供"进程同步机制"来解决异步问题
### 结构性
每个进程都会配置-个PCB。结构上看，进程由程序段、数据段、PCB组成
## 状态
### 运行状态
如果一个进程此时在CPU上运行，那么这个进程处于“==运行态 #EE3F4D==”
CPU会执行该进程对应的程序(执行指令序列)
### 就绪状态
当进程创建完成后，便进入“==就绪态 #EE3F4D==”,处于就绪态的进程已经具备运行条件,但由于没有空闲CPU，就暂时不能运行
### 阻塞状态
在进程运行的过程中，可能会==请求等待某个事件的发生 #EE3F4D==(如等待某种系统资源的分配，或者等待其他进程的响应)。
在这个事件发生之前，进程无法继续往下执行，此时操作系统会;让这个进程下CPU，并让它进入“==阻塞态 #EE3F4D==”
当CPU空闲时，又会选择另一个“就绪态”进程上CPU运行
### 创建状态
别名：==新建态 #EE3F4D==
进程正在被创建时，它的状态是"==创建态 #EE3F4D==”，在这个阶段操作系统会为进程分配资源、初始化PCB
### 终止状态
别名：==结束态 #EE3F4D==
一个进程可以执行exit系统调用，请求操作系统终止该进程。此时该进程会进入“==终止态 #EE3F4D==”，操作系统会让该进程下CPU,并回收内存空间等资源，最后还要回收该进程的PCB。
当终止进程的工作完成之后，这个进程就彻底消失了。
## 状态间的转换
进程PCB中，会有一个变量state来表示进程的当前状态。如: 1表示创建态、2表示就绪态、3表示运行态..
### 就绪态- ->运行态 
进程被调度
### 运行态- ->就绪态 
时间片到，或处理机被抢占
### 运行态- ->阻塞态 
进程用“系统调用”的方式申请某种系统资源，或者请求等待某个事件发生
运行态->阻塞态是一种进程自身做出的==主动行为 #EE3F4D==
### 阻塞态- ->就绪态
申请的资源被分配，或等待的事件发生
阻塞态->就绪态是不是进程自身能控制的，是一种==被动行为 #EE3F4D==。
注意:==不能由阻塞态直接转换为运行态,也不能由就绪态直接转换为阻塞态 #EE3F4D==(因为进入阻塞态是进程主动请求的，必然需要进程在运行时才能发出这种请求)
## 进程的组织方式(各个进程PCB的组织方式)
为了对同一个状态下的各个进程进行统一 的管理，操作系统会将各个进程的PCB组织起来。
### 链接方式
按照进程状态将PCB分为多个队列
操作系统持有指向各个队列的指针
### 索引方式
根据进程状态的不同，建立几张索引表
操作系统持有指向各个索引表的指针
## 进程控制